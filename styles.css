@font-face {
    font-family: 'W95FA';
    src: url('https://cdn.jsdelivr.net/gh/nickvdyck/fonts@master/W95FA.woff2') format('woff2');
    font-weight: normal;
    font-style: normal;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    /* Improve text rendering when scaled */
    text-rendering: geometricPrecision;
}

body {
    overflow: hidden;
    height: 100vh;
    width: 100vw;
    margin: 0;
    padding: 0;
    background: #000;
    font-family: 'W95FA', 'Courier New', monospace;
    font-size: 12px;
    -webkit-font-smoothing: none;
    -moz-osx-font-smoothing: grayscale;
    font-smooth: never;
    position: relative;
}

:root {
    /* Screen dimensions - based on 1920x1080 design */
    --screen-width: 710px;   /* wider */
    --screen-height: 530px;  /* slightly taller */
    --screen-top: 215px;     /* adjusted */
    --screen-left: 988px;    /* 2px to the right */
    
    /* Retro OS Colors */
    --win-bg: #C0C0C0;
    --win-white: #FFFFFF;
    --win-border-light: #FFFFFF;
    --win-border-dark: #808080;
    --win-border-darker: #000000;
    --win-text: #000000;
    --win-titlebar: #000080;
    --win-selected: #000080;
}

.room-background {
    width: 1920px;
    height: 1080px;
    position: relative;
    overflow: visible; /* Changed to visible so hotspot can be seen outside viewport */
    background-image: url('assets/monitor.png');
    background-size: cover;
    background-position: center;
    transition: background-image 0.5s ease;
    transform-origin: top left;
    /* Improve text rendering when scaled */
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
    -webkit-transform-style: preserve-3d;
    transform-style: preserve-3d;
}

/* Year-specific themes - ready for different monitor images */
.room-background.year-1985 {
    background-image: url('assets/monitor.png'); /* Default for now */
}

.room-background.year-1992 {
    background-image: url('assets/monitor.png'); /* Default for now */
}

.room-background.year-1995 {
    background-image: url('assets/monitor.png'); /* Default for now */
}

.room-background.year-1998 {
    background-image: url('assets/monitor.png'); /* Default for now */
}

.room-background.year-2000 {
    background-image: url('assets/monitor.png'); /* Default for now */
}

.room-background.year-2001 {
    background-image: url('assets/monitor.png'); /* Default for now */
}

.sticky-note-wrapper {
    position: absolute;
    left: 656px;
    bottom: 30px;
    width: 320px;
    height: 320px;
    z-index: 50;
    pointer-events: none; /* Disable pointer events on wrapper itself */
    transform: scaleX(-1);
    transform-origin: center;
}

/* Smaller clickable area inside the wrapper */
.sticky-note-clickable-area {
    position: absolute;
    /* Center the clickable area - adjust these values to make it smaller */
    left: 50%;
    top: 55%; /* Moved down from 50% to lower the top edge */
    transform: translate(-50%, -50%) scaleX(-1); /* Match wrapper's scaleX transform */
    width: 220px; /* Clickable width - adjust as needed */
    height: 220px; /* Clickable height - adjust as needed */
    pointer-events: auto; /* Only this area is clickable */
    z-index: 100;
    cursor: pointer;
    /* Uncomment to see the clickable area for debugging */
    /* background: rgba(255, 0, 0, 0.3); */
    /* border: 2px solid red; */
}

.sticky-note {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    object-fit: contain;
    pointer-events: none;
    filter: drop-shadow(0 6px 14px rgba(0, 0, 0, 0.25));
    transition: none;
}

/* Handwritten text on sticky note */
.sticky-note-text {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%) scaleX(-1) rotate(-3deg);
    font-family: 'Segoe Script', 'Bradley Hand', 'Brush Script MT', cursive;
    font-size: 20px;
    color: #000;
    z-index: 200; /* Higher than clickable area (100) to be on top */
    pointer-events: auto; /* Enable clicking */
    font-weight: 400;
    letter-spacing: 0.5px;
    text-decoration: none;
    cursor: pointer;
    display: block;
    padding: 10px; /* Add padding to make clickable area larger */
    margin: -10px; /* Offset padding to keep visual position */
    /* Keep text crisp - no blur effects */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}


.sticky-note-flat {
    opacity: 1;
    z-index: 1;
}

.sticky-note-bent {
    opacity: 0;
    z-index: 2;
}

/* Hover effect only triggers when hovering over the clickable area */
.sticky-note-clickable-area:hover ~ .sticky-note-flat {
    opacity: 0;
}

.sticky-note-clickable-area:hover ~ .sticky-note-bent {
    opacity: 1;
}

#vhs-hotspot {
    position: absolute !important;
    /* Positioned over the VHS deck at bottom-right of monitor.png */
    /* Fixed pixel values based on 1920x1080 design */
    right: 0px !important;
    bottom: 65px !important;
    width: 427px !important;   /* 22% of 1920 + 5px */
    height: 168px !important;  /* 9% of 1920 - 5px */
    border: none !important;
    background: transparent !important;
    background-color: transparent !important;
    cursor: pointer !important;
    z-index: 99999 !important;
    pointer-events: auto !important;
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
    box-sizing: border-box !important;
    margin: 0 !important;
    padding: 0 !important;
    /* Reset button defaults */
    appearance: none !important;
    -webkit-appearance: none !important;
    -moz-appearance: none !important;
    outline: none !important;
    text-indent: -9999px;
    overflow: visible !important;
    /* Remove any box shadow or other visual effects */
    box-shadow: none !important;
    -webkit-box-shadow: none !important;
    -moz-box-shadow: none !important;
}

.vhs-hotspot:hover {
    background: transparent !important;
    border: none !important;
}

#vhs-hotspot:focus {
    outline: none !important;
    border: none !important;
    background: transparent !important;
    background-color: transparent !important;
}

.crt-monitor {
    position: absolute;
    inset: 0;
}

.monitor-screen {
    position: absolute;
    width: var(--screen-width);
    height: var(--screen-height);
    top: var(--screen-top);
    left: var(--screen-left);
    transform: translateX(-50%);
    background: transparent;
    overflow: hidden;
    border: none;
    box-shadow: none;
    clip-path: polygon(
        0% 0%, 3.5% 0%, 96.5% 0%, 100% 0%,
        100% 3.5%, 100% 96.5%, 100% 100%,
        96.5% 100%, 3.5% 100%, 0% 100%,
        0% 96.5%, 0% 3.5%
    );
}

.screen-content {
    width: 100%;
    height: 100%;
    position: relative;
    z-index: 2;
    clip-path: polygon(
        0% 0%, 3.5% 0%, 96.5% 0%, 100% 0%,
        100% 3.5%, 100% 96.5%, 100% 100%,
        96.5% 100%, 3.5% 100%, 0% 100%,
        0% 96.5%, 0% 3.5%
    );
}

/* Retro Desktop */
.retro-desktop {
    background: var(--win-bg);
    width: 100%;
    height: 100%;
    position: relative;
    overflow: hidden;
    padding: 4px;
}

/* Program Manager Window */
.program-manager {
    position: absolute;
    top: 8px;
    right: 8px;
    left: auto;
    width: calc(100% - 160px); /* Leave space on the left for clock (140px + 8px margin + 12px gap) */
    height: calc(100% - 80px); /* Leave space at bottom (status bar + padding) */
    background: var(--win-bg);
    border: 2px solid;
    border-color: var(--win-border-light) var(--win-border-darker) var(--win-border-darker) var(--win-border-light);
    display: flex;
    flex-direction: column;
    z-index: 10;
    box-shadow: 
        inset 1px 1px 0 var(--win-border-light),
        inset -1px -1px 0 var(--win-border-dark);
}

/* Desktop Clock Window */
.desktop-clock {
    position: absolute;
    top: 8px;
    left: 8px;
    width: 140px;
    background: var(--win-bg);
    border: 2px solid;
    border-color: var(--win-border-light) var(--win-border-darker) var(--win-border-darker) var(--win-border-light);
    display: flex;
    flex-direction: column;
    z-index: 5;
    box-shadow: 
        inset 1px 1px 0 var(--win-border-light),
        inset -1px -1px 0 var(--win-border-dark);
}

.clock-titlebar {
    background: var(--win-titlebar);
    color: white;
    padding: 2px 4px;
    display: flex;
    align-items: center;
    font-weight: bold;
    font-size: 10px;
    height: 20px;
    cursor: move;
}

.clock-titlebar .window-title {
    flex: 1;
    text-align: center;
    font-size: 12px;
}

.clock-menu-bar {
    background: var(--win-bg);
    padding: 2px 4px;
    border-bottom: 1px solid var(--win-border-dark);
    font-size: 10px;
}

.clock-menu-item {
    padding: 1px 4px;
    cursor: pointer;
    color: var(--win-text);
}

.clock-menu-item:hover {
    background: var(--win-selected);
    color: white;
}

.clock-face {
    width: 110px;
    height: 110px;
    margin: 8px auto;
    background: #fff;
    border: 2px solid #808080;
    border-radius: 50%;
    position: relative;
    box-shadow: inset 1px 1px 3px rgba(0,0,0,0.2);
}

.clock-center {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 8px;
    height: 8px;
    background: #000;
    border-radius: 50%;
    transform: translate(-50%, -50%);
    z-index: 10;
}

.clock-hand {
    position: absolute;
    bottom: 50%;
    left: 50%;
    transform-origin: bottom center;
    background: #000;
}

.clock-hand-hour {
    width: 3px;
    height: 30px;
    margin-left: -1.5px;
}

.clock-hand-minute {
    width: 2px;
    height: 42px;
    margin-left: -1px;
}

.clock-hand-second {
    width: 1px;
    height: 44px;
    margin-left: -0.5px;
    background: #c00;
}

/* Title Bar */
.window-titlebar {
    background: var(--win-titlebar);
    color: white;
    padding: 2px 4px;
    display: flex;
    align-items: center;
    font-weight: bold;
    font-size: 12px;
    height: 20px;
    position: relative;
    z-index: 100;
    flex-shrink: 0;
    order: -1;
    cursor: move;
    user-select: none;
}

.system-menu {
    width: 18px;
    height: 16px;
    margin-right: 4px;
    background: var(--win-bg);
    border: 1px solid;
    border-color: var(--win-border-light) var(--win-border-dark) var(--win-border-dark) var(--win-border-light);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 12px;
    color: var(--win-text);
    cursor: pointer;
    flex-shrink: 0;
    font-weight: bold;
}

.window-title {
    flex: 1;
    text-align: center;
    font-size: 12px;
    letter-spacing: 0.5px;
}

.window-controls {
    display: flex;
    gap: 2px;
    flex-shrink: 0;
}

.window-btn {
    background: var(--win-bg);
    border: 1px solid;
    border-color: var(--win-border-light) var(--win-border-dark) var(--win-border-dark) var(--win-border-light);
    width: 18px;
    height: 16px;
    font-size: 10px;
    cursor: pointer;
    color: var(--win-text);
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0;
}

.window-btn:active {
    border-color: var(--win-border-dark) var(--win-border-light) var(--win-border-light) var(--win-border-dark);
}

/* Menu Bar */
.menu-bar {
    background: var(--win-bg);
    padding: 2px 8px;
    display: flex;
    gap: 16px;
    border-bottom: 1px solid var(--win-border-dark);
    font-size: 12px;
}

.menu-item {
    cursor: pointer;
    padding: 2px 4px;
}

.menu-item:hover {
    background: var(--win-selected);
    color: white;
}

.menu-item u {
    text-decoration: underline;
}

/* Program Manager Content - MDI Container */
.program-manager-content {
    flex: 1;
    background: var(--win-white);
    border: 2px solid;
    border-color: var(--win-border-dark) var(--win-border-light) var(--win-border-light) var(--win-border-dark);
    margin: 2px;
    position: relative;
    overflow: hidden;
}

/* MDI Child Windows (inside Program Manager) */
.mdi-child {
    position: absolute;
    background: var(--win-bg);
    border: 2px solid;
    border-color: var(--win-border-light) var(--win-border-darker) var(--win-border-darker) var(--win-border-light);
    display: flex;
    flex-direction: column;
    box-shadow: 
        inset 1px 1px 0 var(--win-border-light),
        inset -1px -1px 0 var(--win-border-dark);
    min-width: 100px;
    min-height: 60px;
}

.mdi-child.minimized {
    width: auto !important;
    height: auto !important;
    top: auto !important;
    bottom: 4px;
}

.mdi-child.maximized {
    top: 0 !important;
    left: 0 !important;
    width: 100% !important;
    height: 100% !important;
}

/* Desktop Taskbar (bottom left of desktop background) */
.desktop-taskbar {
    position: absolute;
    bottom: 32px;
    left: 8px;
    display: flex;
    flex-direction: column;
    gap: 8px;
    align-items: flex-start;
    z-index: 1;
}

/* Desktop Status Bar (bottom of screen) */
.desktop-status-bar {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 24px;
    background: var(--win-bg);
    border-top: 2px outset var(--win-bg);
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 2px 4px;
    z-index: 2;
    font-size: 11px;
    box-shadow: 0 -2px 4px rgba(0, 0, 0, 0.2);
    gap: 4px;
}

.status-bar-left {
    display: flex;
    align-items: center;
    gap: 4px;
}

.status-bar-right {
    display: flex;
    align-items: center;
    gap: 4px;
}

.status-bar-item {
    display: flex;
    align-items: center;
    gap: 4px;
    padding: 2px 6px;
    border: 1px inset var(--win-bg);
    background: var(--win-bg);
    cursor: pointer;
    font-size: 10px;
    color: var(--win-text);
}

.status-bar-item:hover {
    background: rgba(255, 255, 255, 0.3);
}

.status-bar-item:active {
    border: 1px outset var(--win-bg);
}

.status-icon {
    font-size: 12px;
    line-height: 1;
}

.status-value {
    font-size: 10px;
    white-space: nowrap;
}

.status-bar-time {
    color: var(--win-text);
    font-weight: bold;
    padding: 2px 6px;
    border: 1px inset var(--win-bg);
    background: var(--win-bg);
    min-width: 70px;
    text-align: center;
    font-size: 11px;
}

.status-bar-date {
    color: var(--win-text);
    padding: 2px 6px;
    border: 1px inset var(--win-bg);
    background: var(--win-bg);
    min-width: 160px;
    text-align: center;
    font-size: 11px;
    cursor: pointer;
    user-select: none;
}

.status-bar-date:hover {
    background: rgba(255, 255, 255, 0.2);
    border-radius: 2px;
}

.year-selector-dialog {
    position: absolute;
    width: 300px;
    background: var(--win-bg);
    border: 2px solid;
    border-color: var(--win-border-light) var(--win-border-darker) var(--win-border-darker) var(--win-border-light);
    box-shadow: 
        inset 1px 1px 0 var(--win-border-light),
        inset -1px -1px 0 var(--win-border-dark);
    z-index: 10000;
    display: flex;
    flex-direction: column;
}

.dialog-titlebar {
    background: var(--win-titlebar);
    color: white;
    padding: 4px 8px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-weight: bold;
    font-size: 12px;
    cursor: move;
}

.dialog-title {
    flex: 1;
}

.dialog-close-btn {
    background: var(--win-bg);
    border: 1px solid;
    border-color: var(--win-border-light) var(--win-border-dark) var(--win-border-dark) var(--win-border-light);
    width: 18px;
    height: 18px;
    font-size: 12px;
    cursor: pointer;
    color: var(--win-text);
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0;
}

.dialog-close-btn:active {
    border-color: var(--win-border-dark) var(--win-border-light) var(--win-border-light) var(--win-border-dark);
}

.dialog-content {
    padding: 12px;
    background: var(--win-white);
}

.dialog-text {
    margin-bottom: 12px;
    font-size: 11px;
    color: var(--win-text);
}

.year-options {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    justify-content: center;
}

.year-btn {
    padding: 8px 16px;
    background: var(--win-bg);
    border: 2px outset var(--win-bg);
    font-size: 12px;
    cursor: pointer;
    font-family: 'Courier New', Tahoma, sans-serif;
    color: var(--win-text);
    min-width: 60px;
}

.year-btn:hover {
    background: var(--win-white);
}

.year-btn:active {
    border: 2px inset var(--win-bg);
}

.year-btn.selected {
    background: var(--win-selected);
    color: white;
    border: 2px inset var(--win-selected);
}

/* Volume Control Dropdown */
.volume-dropdown {
    position: absolute;
    bottom: 26px;
    left: 0;
    background: var(--win-bg);
    border: 2px solid;
    border-color: var(--win-border-light) var(--win-border-darker) var(--win-border-darker) var(--win-border-light);
    padding: 8px;
    min-width: 150px;
    z-index: 10002;
    display: none;
}

.volume-slider-container {
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.volume-slider-label {
    font-size: 10px;
    color: var(--win-text);
}

.volume-slider {
    width: 100%;
    height: 16px;
    cursor: pointer;
}

.volume-mute-btn {
    margin-top: 4px;
    padding: 2px 8px;
    background: var(--win-bg);
    border: 1px outset var(--win-bg);
    font-size: 10px;
    cursor: pointer;
    font-family: 'Courier New', Tahoma, sans-serif;
}

.volume-mute-btn:active {
    border: 1px inset var(--win-bg);
}

.taskbar-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 80px;
    cursor: pointer;
    padding: 4px;
}

.taskbar-item:hover .taskbar-item-label {
    background: rgba(0, 0, 128, 0.2);
}

.taskbar-item.active .taskbar-item-label,
.taskbar-item.selected .taskbar-item-label {
    background: var(--win-selected);
    color: white;
}

.taskbar-item-image {
    width: 48px;
    height: 40px;
    margin-bottom: 4px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.taskbar-item-image .app-icon {
    width: 32px;
    height: 32px;
    margin: 0;
}

.taskbar-item-label {
    font-size: 12px;
    text-align: center;
    color: var(--win-text);
    word-break: break-word;
    line-height: 1.2;
    padding: 2px 4px;
}

/* Program Groups Bar (at bottom) */
.program-groups-bar {
    position: absolute;
    bottom: 8px;
    left: 8px;
    right: 8px;
    display: flex;
    gap: 16px;
    flex-wrap: nowrap;
    justify-content: space-evenly;
    overflow-x: auto;
    overflow-y: hidden;
}

/* Group Icons (minimized program groups) */
.group-icon {
    display: flex;
    flex-direction: column;
    align-items: center;
    flex: 0 0 auto;
    min-width: 80px;
    width: auto;
    cursor: pointer;
    padding: 4px;
}

.group-icon-image {
    width: 55px;
    height: 47px;
    margin-bottom: 4px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

/* Mini Window Icon (folder-like icon for groups) */
.mini-window-icon {
    width: 47px;
    height: 39px;
    background: var(--win-white);
    border: 2px solid;
    border-color: var(--win-border-light) var(--win-border-darker) var(--win-border-darker) var(--win-border-light);
    position: relative;
}

.mini-window-icon::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 10px;
    background: var(--win-titlebar);
}

.mini-window-icon::after {
    content: '';
    position: absolute;
    top: 14px;
    left: 4px;
    width: 12px;
    height: 12px;
    background: 
        linear-gradient(90deg, #FF0000 33%, #00FF00 33%, #00FF00 66%, #0000FF 66%);
    border: 1px solid var(--win-border-dark);
}

.group-icon-label {
    font-size: 13px;
    text-align: center;
    color: var(--win-text);
    line-height: 1.2;
    padding: 2px 0;
    width: 100%;
    display: block;
    white-space: nowrap;
    overflow: visible;
}

/* Selected State */
.group-icon.selected .group-icon-label {
    background: var(--win-selected);
    color: white;
}

.group-icon:hover:not(.selected) .group-icon-label {
    background: rgba(0, 0, 128, 0.2);
}

/* Program Group Window - MDI child */
.program-group-window {
    width: 90%;
    max-width: 400px;
    height: 70%;
    max-height: 250px;
    z-index: 50;
    background: var(--win-bg);
    border: 2px solid;
    border-color: var(--win-border-light) var(--win-border-darker) var(--win-border-darker) var(--win-border-light);
    box-shadow: 
        inset 1px 1px 0 var(--win-border-light),
        inset -1px -1px 0 var(--win-border-dark);
    display: flex;
    flex-direction: column;
    box-sizing: border-box;
}

/* Application Windows - can be MDI child or standalone */
.application-window {
    z-index: 75;
    overflow: hidden;
}

/* Standalone application windows (outside Program Manager) */
.retro-desktop > .application-window {
    position: absolute;
    background: var(--win-bg);
    border: 2px solid;
    border-color: var(--win-border-light) var(--win-border-darker) var(--win-border-darker) var(--win-border-light);
    box-shadow: 
        inset 1px 1px 0 var(--win-border-light),
        inset -1px -1px 0 var(--win-border-dark);
    display: flex;
    flex-direction: column;
}

/* MDI child application windows (default sizes) */
.mdi-child.application-window {
    top: 10px;
    left: 10px;
    width: 95%;
    max-width: 420px;
    height: 85%;
}

/* Window Resize Handles */
.resize-handle {
    position: absolute;
    background: transparent;
    z-index: 1000;
}

.resize-n {
    top: -3px;
    left: 10px;
    right: 10px;
    height: 6px;
    cursor: n-resize;
}

.resize-s {
    bottom: -3px;
    left: 10px;
    right: 10px;
    height: 6px;
    cursor: s-resize;
}

.resize-e {
    top: 10px;
    right: -3px;
    bottom: 10px;
    width: 6px;
    cursor: e-resize;
}

.resize-w {
    top: 10px;
    left: -3px;
    bottom: 10px;
    width: 6px;
    cursor: w-resize;
}

.resize-ne {
    top: -3px;
    right: -3px;
    width: 12px;
    height: 12px;
    cursor: ne-resize;
}

.resize-nw {
    top: -3px;
    left: -3px;
    width: 12px;
    height: 12px;
    cursor: nw-resize;
}

.resize-se {
    bottom: -3px;
    right: -3px;
    width: 12px;
    height: 12px;
    cursor: se-resize;
}

.resize-sw {
    bottom: -3px;
    left: -3px;
    width: 12px;
    height: 12px;
    cursor: sw-resize;
}

.resizable {
    /* Window has resize handles enabled */
    min-width: 150px;
    min-height: 100px;
}

/* Resize mode - when Size is clicked from menu */
.resize-mode {
    outline: 2px dashed var(--win-titlebar) !important;
    outline-offset: -2px;
}

.resize-mode-active .screen-content {
    user-select: none;
}

.resize-mode-active * {
    cursor: inherit !important;
}

/* Window Content */
.window-content {
    flex: 1;
    background: var(--win-bg);
    padding: 4px;
    overflow: auto;
    overflow-y: scroll; /* Always show scrollbar */
    border: 1px inset var(--win-bg);
    position: relative;
    z-index: 1;
    min-height: 0;
}

/* Force scrollbar to always be visible (override macOS auto-hide) */
.window-content::-webkit-scrollbar {
    -webkit-appearance: none;
    width: 16px !important;
    height: 16px !important;
}

/* ===== Retro Windows 95/98 Style Scrollbars ===== */

/* Webkit browsers (Chrome, Edge, Safari) */
::-webkit-scrollbar {
    width: 16px !important;
    height: 16px !important;
    background: repeating-conic-gradient(#c0c0c0 0% 25%, #fff 0% 50%) 50% / 2px 2px !important;
}

::-webkit-scrollbar-track {
    background: repeating-conic-gradient(#c0c0c0 0% 25%, #fff 0% 50%) 50% / 2px 2px !important;
    border: 1px solid #808080 !important;
}

::-webkit-scrollbar-thumb {
    background-color: #c0c0c0 !important;
    border: 2px solid !important;
    border-color: #ffffff #000000 #000000 #ffffff !important;
    box-shadow: inset 1px 1px 0 #dfdfdf, inset -1px -1px 0 #808080 !important;
}

::-webkit-scrollbar-thumb:hover {
    background-color: #d4d4d4 !important;
}

::-webkit-scrollbar-thumb:active {
    background-color: #c0c0c0 !important;
    border-color: #000000 #ffffff #ffffff #000000 !important;
    box-shadow: inset -1px -1px 0 #dfdfdf, inset 1px 1px 0 #808080 !important;
}

::-webkit-scrollbar-button {
    background-color: #c0c0c0 !important;
    border: 2px solid !important;
    border-color: #ffffff #000000 #000000 #ffffff !important;
    box-shadow: inset 1px 1px 0 #dfdfdf, inset -1px -1px 0 #808080 !important;
    display: block !important;
    width: 16px !important;
    height: 16px !important;
}

::-webkit-scrollbar-button:active {
    border-color: #000000 #ffffff #ffffff #000000 !important;
    box-shadow: inset -1px -1px 0 #dfdfdf, inset 1px 1px 0 #808080 !important;
}

/* Up arrow */
::-webkit-scrollbar-button:single-button:vertical:decrement {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='7' height='4'%3E%3Cpolygon points='3.5,0 7,4 0,4' fill='%23000'/%3E%3C/svg%3E") !important;
    background-repeat: no-repeat !important;
    background-position: center !important;
    background-size: 7px 4px !important;
}

/* Down arrow */
::-webkit-scrollbar-button:single-button:vertical:increment {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='7' height='4'%3E%3Cpolygon points='0,0 7,0 3.5,4' fill='%23000'/%3E%3C/svg%3E") !important;
    background-repeat: no-repeat !important;
    background-position: center !important;
    background-size: 7px 4px !important;
}

/* Left arrow */
::-webkit-scrollbar-button:single-button:horizontal:decrement {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='4' height='7'%3E%3Cpolygon points='4,0 4,7 0,3.5' fill='%23000'/%3E%3C/svg%3E") !important;
    background-repeat: no-repeat !important;
    background-position: center !important;
    background-size: 4px 7px !important;
}

/* Right arrow */
::-webkit-scrollbar-button:single-button:horizontal:increment {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='4' height='7'%3E%3Cpolygon points='0,0 4,3.5 0,7' fill='%23000'/%3E%3C/svg%3E") !important;
    background-repeat: no-repeat !important;
    background-position: center !important;
    background-size: 4px 7px !important;
}

::-webkit-scrollbar-corner {
    background-color: #c0c0c0 !important;
}

/* Firefox scrollbar styling */
* {
    scrollbar-width: auto;
    scrollbar-color: #c0c0c0 #c0c0c0;
}

/* Minesweeper window - no scrolling */
#minesweeper-app .window-content {
    overflow: hidden;
    display: flex;
    flex-direction: column;
}

.program-group-content {
    flex: 1;
    background: var(--win-white);
    border: 2px solid;
    border-color: var(--win-border-dark) var(--win-border-light) var(--win-border-light) var(--win-border-dark);
    margin: 2px;
    padding: 16px;
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(70px, 1fr));
    gap: 16px;
    align-content: start;
}

/* Program Icons */
.program-icon {
    display: flex;
    flex-direction: column;
    align-items: center;
    cursor: pointer;
    padding: 4px;
}

.program-icon:hover .program-icon-label {
    background: rgba(0, 0, 128, 0.2);
}

.program-icon.selected .program-icon-label {
    background: var(--win-selected);
    color: white;
}

.app-icon {
    width: 32px;
    height: 32px;
    margin-bottom: 4px;
    background: var(--win-bg);
    border: 1px solid var(--win-border-dark);
    image-rendering: pixelated;
}

.program-icon-label {
    font-size: 13px;
    text-align: center;
    color: var(--win-text);
    line-height: 1.2;
    padding: 2px;
}

/* App Icon Styles */
.file-manager-icon {
    background: #FFFF00;
    border-color: #808000;
}

.control-panel-icon {
    background: linear-gradient(135deg, #C0C0C0 25%, #808080 75%);
}

.print-manager-icon {
    background: #FFFFFF;
    border-color: #000000;
}

.clipboard-icon {
    background: #C0C0C0;
    position: relative;
}

.dos-icon {
    background: #000000;
    color: #FFFFFF;
    font-size: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.dos-icon::after {
    content: 'C:\\>';
    color: white;
    font-size: 8px;
}

.setup-icon {
    background: linear-gradient(to bottom, #0000FF, #000080);
}

.pif-icon {
    background: #808080;
}

.readme-icon {
    background: #FFFFFF;
    position: relative;
}

.readme-icon::after {
    content: '?';
    color: #000080;
    font-size: 20px;
    font-weight: bold;
}

/* Minesweeper Game */
.minesweeper-game {
    padding: 8px;
    background: var(--win-bg);
    display: flex;
    flex-direction: column;
    flex: 1;
    min-height: 0;
    overflow: hidden;
}

.minesweeper-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 4px;
    background: var(--win-bg);
    border: 2px inset var(--win-bg);
    margin-bottom: 4px;
}

.minesweeper-counter {
    width: 40px;
    height: 24px;
    background: #000000;
    color: #FF0000;
    font-family: 'Courier New', monospace;
    font-size: 16px;
    font-weight: bold;
    display: flex;
    align-items: center;
    justify-content: center;
    border: 1px inset var(--win-bg);
    letter-spacing: 1px;
}

.minesweeper-face {
    width: 26px;
    height: 26px;
    font-size: 18px;
    background: var(--win-bg);
    border: 2px outset var(--win-bg);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0;
}

.minesweeper-face:active {
    border: 2px inset var(--win-bg);
}

.minesweeper-board {
    display: grid;
    gap: 1px;
    background: var(--win-border-dark);
    border: 2px inset var(--win-bg);
    padding: 2px;
    flex-shrink: 0;
    overflow: hidden;
}

.minesweeper-cell {
    width: 20px;
    height: 20px;
    background: var(--win-bg);
    border: 2px outset var(--win-bg);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 12px;
    font-weight: bold;
    cursor: pointer;
    user-select: none;
}

.minesweeper-cell.hidden {
    background: var(--win-bg);
    border: 2px outset var(--win-bg);
}

.minesweeper-cell.hidden:active {
    border: 2px inset var(--win-bg);
}

.minesweeper-cell.revealed {
    background: var(--win-white);
    border: 1px solid var(--win-border-dark);
    border-style: inset;
}

.minesweeper-cell.mine {
    background: #FF0000;
}

.minesweeper-cell.number {
    color: var(--win-text);
}

.minesweeper-cell.number-1 { color: #0000FF; }
.minesweeper-cell.number-2 { color: #008000; }
.minesweeper-cell.number-3 { color: #FF0000; }
.minesweeper-cell.number-4 { color: #000080; }
.minesweeper-cell.number-5 { color: #800000; }
.minesweeper-cell.number-6 { color: #008080; }
.minesweeper-cell.number-7 { color: #000000; }
.minesweeper-cell.number-8 { color: #808080; }

.minesweeper-cell.flagged {
    background: var(--win-bg);
}

/* AI Assistant */
.ai-assistant-content {
    display: flex;
    flex-direction: column;
    height: 100%;
    padding: 8px;
    background: var(--win-bg);
}

.ai-header {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 8px;
    background: var(--win-bg);
    border: 1px inset var(--win-bg);
    margin-bottom: 8px;
}

.ai-logo {
    font-size: 24px;
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: transparent;
    border: none;
}

.ai-title {
    font-size: 14px;
    font-weight: bold;
    color: var(--win-text);
}

.ai-chat-area {
    flex: 1;
    background: var(--win-white);
    border: 1px inset var(--win-bg);
    padding: 8px;
    overflow-y: auto;
    margin-bottom: 8px;
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.ai-message {
    padding: 6px 8px;
    border: 1px solid var(--win-border-dark);
    background: var(--win-bg);
    max-width: 80%;
    word-wrap: break-word;
}

.ai-message.ai-user {
    align-self: flex-end;
    background: var(--win-selected);
    color: white;
}

.ai-message.ai-assistant {
    align-self: flex-start;
    background: var(--win-white);
}

.ai-message.ai-system {
    align-self: center;
    background: var(--win-bg);
    border: 1px dashed var(--win-border-dark);
    font-style: italic;
    max-width: 90%;
}

.message-text {
    font-size: 11px;
    line-height: 1.4;
}

.ai-confirm-btn {
    padding: 4px 12px;
    background: var(--win-bg);
    border: 2px outset var(--win-bg);
    font-size: 11px;
    cursor: pointer;
    font-family: Tahoma, sans-serif;
    color: var(--win-text);
    margin: 4px 4px 4px 0;
}

.ai-confirm-btn:hover {
    background: var(--win-white);
}

.ai-confirm-btn:active {
    border: 2px inset var(--win-bg);
}

#write-yes-btn {
    background: var(--win-selected);
    color: white;
}

#write-yes-btn:hover {
    background: #000080;
}

.ai-input-area {
    display: flex;
    gap: 4px;
    align-items: center;
    flex-wrap: wrap;
}

.ai-attach-area {
    display: flex;
    gap: 4px;
    align-items: center;
}

.ai-attach-btn {
    padding: 4px 8px;
    background: var(--win-bg);
    border: 2px outset var(--win-bg);
    font-size: 12px;
    cursor: pointer;
    font-family: 'Courier New', Tahoma, sans-serif;
    color: var(--win-text);
    min-width: 32px;
}

.ai-attach-btn:hover {
    background: var(--win-white);
}

.ai-attach-btn:active {
    border: 2px inset var(--win-bg);
}

.ai-url-input {
    flex: 1;
    padding: 4px 6px;
    border: 1px inset var(--win-bg);
    background: var(--win-white);
    font-family: 'Courier New', monospace;
    font-size: 10px;
    color: var(--win-text);
    min-width: 150px;
}

.ai-attachments {
    padding: 4px;
    background: var(--win-bg);
    border: 1px inset var(--win-bg);
    margin-top: 4px;
    max-height: 100px;
    overflow-y: auto;
}

.attachment-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 2px 4px;
    background: var(--win-white);
    border: 1px solid var(--win-border-dark);
    margin: 2px 0;
    font-size: 10px;
}

.remove-attachment {
    background: var(--win-bg);
    border: 1px solid var(--win-border-dark);
    padding: 1px 4px;
    cursor: pointer;
    font-size: 10px;
    color: var(--win-text);
}

.remove-attachment:hover {
    background: var(--win-selected);
    color: white;
}

.attachments-preview {
    margin-top: 4px;
    padding: 4px;
    background: rgba(255, 255, 255, 0.1);
    border: 1px dashed var(--win-border-dark);
}

.attachment-preview {
    font-size: 10px;
    margin: 2px 0;
}

.attachment-preview img {
    max-width: 200px;
    border: 1px solid var(--win-border-dark);
    margin: 4px 0;
}

.ai-input {
    flex: 1;
    padding: 4px 6px;
    border: 1px inset var(--win-bg);
    background: var(--win-white);
    font-family: 'Courier New', monospace;
    font-size: 11px;
    color: var(--win-text);
}

.ai-input:focus {
    outline: 1px solid var(--win-highlight);
}

.ai-send-btn {
    padding: 4px 12px;
    background: var(--win-bg);
    border: 2px outset var(--win-bg);
    font-size: 11px;
    cursor: pointer;
    font-family: 'Courier New', Tahoma, sans-serif;
    color: var(--win-text);
}

.ai-send-btn:active {
    border: 2px inset var(--win-bg);
}

.ai-features-bar {
    display: flex;
    gap: 4px;
    padding: 4px;
    background: var(--win-bg);
    border: 1px inset var(--win-bg);
    margin-bottom: 8px;
    flex-wrap: wrap;
}

.ai-feature-btn {
    padding: 4px 8px;
    background: var(--win-bg);
    border: 2px outset var(--win-bg);
    font-size: 10px;
    cursor: pointer;
    font-family: 'Courier New', Tahoma, sans-serif;
    color: var(--win-text);
    flex: 1;
    min-width: 60px;
    white-space: nowrap;
}

.ai-feature-btn:hover {
    background: var(--win-white);
}

.ai-feature-btn:active {
    border: 2px inset var(--win-bg);
}

.ai-feature-btn.active {
    background: var(--win-selected);
    color: white;
    border: 2px inset var(--win-selected);
}

.ai-message img {
    max-width: 100%;
    border: 1px solid var(--win-border-dark);
    margin: 4px 0;
    image-rendering: pixelated;
    image-rendering: -moz-crisp-edges;
    image-rendering: crisp-edges;
    image-rendering: auto;
    /* Force pixelated look for retro images */
    image-rendering: pixelated;
    /* Scale down for more pixelated effect */
    image-rendering: -webkit-optimize-contrast;
}

.generated-image {
    cursor: pointer;
}

.image-context-menu {
    position: absolute;
    background: var(--win-bg);
    border: 2px solid;
    border-color: var(--win-border-light) var(--win-border-darker) var(--win-border-darker) var(--win-border-light);
    box-shadow: 
        inset 1px 1px 0 var(--win-border-light),
        inset -1px -1px 0 var(--win-border-dark);
    z-index: 10000;
    min-width: 150px;
    padding: 2px;
}

.context-menu-item {
    padding: 4px 8px;
    cursor: pointer;
    font-size: 11px;
    color: var(--win-text);
    background: var(--win-bg);
}

.context-menu-item:hover {
    background: var(--win-selected);
    color: white;
}

.copy-btn {
    padding: 3px 8px;
    background: var(--win-bg);
    border: 2px outset var(--win-bg);
    font-size: 10px;
    cursor: pointer;
    font-family: 'Courier New', Tahoma, sans-serif;
    color: var(--win-text);
    margin-top: 4px;
}

.copy-btn:hover {
    background: var(--win-white);
}

.copy-btn:active {
    border: 2px inset var(--win-bg);
}

.minesweeper-icon {
    background: #000000;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
}

.minesweeper-icon::before {
    content: '';
    width: 20px;
    height: 20px;
    background: 
        radial-gradient(circle at 30% 30%, #FFFFFF 15%, transparent 15%),
        radial-gradient(circle at 70% 70%, #808080 20%, transparent 20%),
        #000000;
    border: 2px solid #404040;
    border-radius: 50%;
    box-shadow: 
        inset -2px -2px 0 #404040,
        inset 2px 2px 0 #808080;
}

/* SkiFree Icon */
.skifree-icon {
    background: linear-gradient(180deg, #87CEEB 0%, #87CEEB 60%, #FFFFFF 60%, #FFFFFF 100%);
    position: relative;
    display: flex;
    align-items: flex-end;
    justify-content: center;
    border: 1px solid #404040;
}

.skifree-icon::before {
    content: '';
    position: absolute;
    bottom: 8px;
    left: 50%;
    transform: translateX(-50%);
    width: 0;
    height: 0;
    border-left: 8px solid transparent;
    border-right: 8px solid transparent;
    border-bottom: 14px solid #228B22;
}

/* Solitaire Icon */
.solitaire-icon {
    background: #0b6e4f;
    border: 1px solid #404040;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #fff;
    font-family: Tahoma, sans-serif;
    font-size: 11px;
}

.solitaire-icon::before {
    content: '♠♥';
    color: #fff;
    font-size: 12px;
    letter-spacing: 2px;
}

.doom-icon {
    background: linear-gradient(180deg, #1b1b1b 0%, #3a3a3a 60%, #7a1b1b 100%);
    border: 1px solid #404040;
    color: #ffcc00;
    font-family: Tahoma, sans-serif;
    font-size: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    text-shadow: 1px 1px 0 #000;
}

.doom-icon::before {
    content: 'DOOM';
}


.write-icon {
    background: linear-gradient(180deg, #c0c0c0 0%, #ffffff 100%);
    border: 1px solid #404040;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
}
.write-icon::before {
    content: '';
    width: 18px;
    height: 22px;
    background: #ffffff;
    border: 1px solid #000080;
    position: relative;
}
.write-icon::after {
    content: '';
    position: absolute;
    width: 12px;
    height: 2px;
    background: #000080;
    top: 10px;
}

.paintbrush-icon {
    background: linear-gradient(180deg, #ffffff 0%, #c0c0c0 100%);
    border: 1px solid #404040;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
}
.paintbrush-icon::before {
    content: '';
    width: 8px;
    height: 16px;
    background: linear-gradient(90deg, #ff0000, #ffff00, #00ff00, #00ffff, #0000ff, #ff00ff);
    border-radius: 4px 4px 0 0;
    position: absolute;
    top: 4px;
}
.paintbrush-icon::after {
    content: '';
    width: 4px;
    height: 10px;
    background: #8b4513;
    position: absolute;
    bottom: 4px;
}

.terminal-icon {
    background: #000000;
    border: 1px solid #404040;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #00ff00;
    font-family: 'Courier New', monospace;
    font-size: 10px;
    font-weight: bold;
}
.terminal-icon::before {
    content: '>_';
}

.notepad-icon {
    background: linear-gradient(180deg, #ffffcc 0%, #ffff99 100%);
    border: 1px solid #404040;
    position: relative;
    display: flex;
    align-items: flex-start;
    justify-content: center;
    padding-top: 4px;
}
.notepad-icon::before {
    content: '';
    width: 20px;
    height: 2px;
    background: #000080;
    box-shadow: 0 4px 0 #000080, 0 8px 0 #000080, 0 12px 0 #000080;
}

.recorder-icon {
    background: linear-gradient(180deg, #c0c0c0 0%, #808080 100%);
    border: 1px solid #404040;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
}
.recorder-icon::before {
    content: '';
    width: 12px;
    height: 12px;
    background: #404040;
    border-radius: 50%;
    border: 2px solid #000;
}
.recorder-icon::after {
    content: '';
    position: absolute;
    width: 4px;
    height: 8px;
    background: #000;
    top: 4px;
}

.calendar-icon {
    background: #ffffff;
    border: 1px solid #800000;
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
}
.calendar-icon::before {
    content: '12';
    background: #800000;
    color: #ffffff;
    width: 100%;
    font-size: 8px;
    text-align: center;
    font-weight: bold;
}
.calendar-icon::after {
    content: '31';
    color: #000;
    font-size: 14px;
    font-weight: bold;
    margin-top: 2px;
}

.calculator-icon {
    background: linear-gradient(180deg, #c0c0c0 0%, #a0a0a0 100%);
    border: 1px solid #404040;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
    padding-top: 4px;
}
.calculator-icon::before {
    content: '';
    width: 20px;
    height: 8px;
    background: #90EE90;
    border: 1px solid #000;
    margin-bottom: 2px;
}
.calculator-icon::after {
    content: '';
    width: 18px;
    height: 12px;
    background: 
        linear-gradient(#808080 0 0) 0 0 / 4px 4px,
        linear-gradient(#808080 0 0) 5px 0 / 4px 4px,
        linear-gradient(#808080 0 0) 10px 0 / 4px 4px,
        linear-gradient(#808080 0 0) 0 5px / 4px 4px,
        linear-gradient(#808080 0 0) 5px 5px / 4px 4px,
        linear-gradient(#808080 0 0) 10px 5px / 4px 4px,
        linear-gradient(#ff8c00 0 0) 14px 0 / 4px 4px,
        linear-gradient(#ff8c00 0 0) 14px 5px / 4px 4px;
    background-repeat: no-repeat;
}

.clock-icon {
    background: linear-gradient(180deg, #ffffff 0%, #c0c0c0 100%);
    border: 1px solid #404040;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
}
.clock-icon::before {
    content: '';
    width: 22px;
    height: 22px;
    border: 2px solid #800000;
    border-radius: 50%;
    background: #ffffff;
}
.clock-icon::after {
    content: '';
    position: absolute;
    width: 2px;
    height: 8px;
    background: #000;
    transform-origin: bottom center;
    transform: rotate(-30deg);
    top: 7px;
}

.packager-icon {
    background: linear-gradient(180deg, #c0c0c0 0%, #808080 100%);
    border: 1px solid #404040;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
}
.packager-icon::before {
    content: '';
    width: 18px;
    height: 14px;
    background: #ffff00;
    border: 1px solid #808000;
    box-shadow: 2px 2px 0 rgba(0,0,0,0.3);
}
.packager-icon::after {
    content: '';
    position: absolute;
    width: 12px;
    height: 8px;
    background: #0000ff;
    top: 6px;
    left: 12px;
}

.charmap-icon {
    background: #ffffff;
    border: 1px solid #404040;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 18px;
    color: #000080;
    font-family: 'Times New Roman', serif;
}
.charmap-icon::before {
    content: 'λ';
}

.mediaplayer-icon {
    background: linear-gradient(180deg, #000080 0%, #0000c0 100%);
    border: 1px solid #404040;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
}
.mediaplayer-icon::before {
    content: '';
    width: 0;
    height: 0;
    border-left: 12px solid #ffffff;
    border-top: 8px solid transparent;
    border-bottom: 8px solid transparent;
}

.soundrec-icon {
    background: linear-gradient(180deg, #c0c0c0 0%, #808080 100%);
    border: 1px solid #404040;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
}
.soundrec-icon::before {
    content: '';
    width: 8px;
    height: 14px;
    background: #404040;
    border-radius: 4px 4px 0 0;
}
.soundrec-icon::after {
    content: '';
    position: absolute;
    width: 14px;
    height: 6px;
    background: transparent;
    border: 2px solid #404040;
    border-top: none;
    border-radius: 0 0 8px 8px;
    bottom: 6px;
}

.cardfile-icon {
    background: #ffffff;
    border: 1px solid #404040;
    position: relative;
    display: flex;
    align-items: flex-end;
    justify-content: center;
    padding-bottom: 2px;
}
.cardfile-icon::before {
    content: '';
    width: 22px;
    height: 16px;
    background: #ffffcc;
    border: 1px solid #808080;
    box-shadow: 
        -2px -2px 0 #ffe4b5,
        -4px -4px 0 #ffdab9;
}
.cardfile-icon::after {
    content: '';
    position: absolute;
    top: 2px;
    width: 18px;
    height: 4px;
    background: linear-gradient(90deg, #ff0000, #00ff00, #0000ff, #ffff00, #ff00ff);
}

/* Solitaire Game */
.solitaire-content {
    display: flex;
    flex-direction: column;
    background: var(--win-bg);
    height: 100%;
    padding: 8px;
    gap: 8px;
    overflow: hidden;
}

.solitaire-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 4px 6px;
    background: var(--win-white);
    border: 1px solid var(--win-border-dark);
    font-size: 11px;
}

.solitaire-info {
    display: flex;
    gap: 12px;
}

.solitaire-actions {
    display: flex;
    gap: 6px;
}

.solitaire-btn {
    padding: 2px 10px;
    background: var(--win-bg);
    border: 2px outset var(--win-bg);
    font-size: 11px;
    cursor: pointer;
    font-family: Tahoma, sans-serif;
}

.solitaire-btn:active {
    border: 2px inset var(--win-bg);
}

.solitaire-btn.disabled {
    opacity: 0.6;
    pointer-events: none;
}

.solitaire-board {
    flex: 1;
    background: #0b6e4f;
    border: 2px inset var(--win-border-dark);
    padding: 8px;
    display: flex;
    flex-direction: column;
    gap: 10px;
    overflow: hidden;
}

.solitaire-top-row {
    display: flex;
    justify-content: space-between;
    gap: 12px;
}

.stock-area {
    display: flex;
    gap: 8px;
    align-items: flex-start;
}

.stock, .waste, .foundation {
    width: 60px;
    height: 80px;
    border: 1px dashed rgba(255,255,255,0.5);
    background: rgba(255,255,255,0.08);
    position: relative;
}

.waste, .foundation {
    border-style: solid;
    border-color: rgba(255,255,255,0.4);
}

.foundations {
    display: flex;
    gap: 8px;
}

.tableau {
    display: flex;
    gap: 10px;
    flex: 1;
    min-height: 220px;
}

.tableau-pile {
    flex: 1;
    position: relative;
    border: 1px dashed rgba(255,255,255,0.4);
    background: rgba(255,255,255,0.06);
}

.card {
    position: absolute;
    width: 60px;
    height: 80px;
    border: 1px solid #000;
    border-radius: 4px;
    background: #fff;
    box-shadow: 1px 1px 0 rgba(0,0,0,0.4);
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    padding: 4px;
    box-sizing: border-box;
    color: #000;
    font-family: 'Courier New', monospace;
    font-size: 12px;
    cursor: pointer;
}

.card.red {
    color: #c70039;
}

.card.face-down {
    background: linear-gradient(135deg, #004aad 25%, #002f6c 25%, #002f6c 50%, #004aad 50%, #004aad 75%, #002f6c 75%, #002f6c 100%);
    background-size: 12px 12px;
    color: transparent;
}

.card .top, .card .bottom {
    font-size: 12px;
}

.card .bottom {
    transform: rotate(180deg);
    align-self: flex-end;
}

.card.selected {
    outline: 2px solid #ffcc00;
    outline-offset: -2px;
}

.shake {
    animation: shake 0.2s;
}

@keyframes shake {
    0% { transform: translateX(0); }
    25% { transform: translateX(-3px); }
    50% { transform: translateX(3px); }
    75% { transform: translateX(-2px); }
    100% { transform: translateX(0); }
}

.pile-placeholder {
    width: 60px;
    height: 80px;
    border: 1px dashed rgba(255,255,255,0.5);
    background: rgba(255,255,255,0.08);
}

/* Doom Game */
.doom-content {
    display: flex;
    flex-direction: column;
    background: #111;
    height: 100%;
    padding: 8px;
    gap: 8px;
}

.doom-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: #222;
    color: #ffcc00;
    border: 1px solid #444;
    padding: 4px 8px;
    font-size: 11px;
}

.doom-stats {
    display: flex;
    gap: 12px;
}

.doom-actions {
    display: flex;
    gap: 6px;
}

.doom-btn {
    padding: 2px 8px;
    background: #333;
    border: 2px outset #333;
    color: #ffcc00;
    font-size: 11px;
    cursor: pointer;
    font-family: Tahoma, sans-serif;
}

.doom-btn:active {
    border: 2px inset #333;
}

#doom-canvas {
    width: 100%;
    height: 240px;
    image-rendering: pixelated;
    border: 2px inset #444;
    background: #000;
}

.doom-help {
    color: #ccc;
    font-size: 11px;
    background: #1a1a1a;
    border: 1px solid #333;
    padding: 4px 6px;
}

.doom-level-msg {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    padding: 8px 12px;
    background: rgba(0,0,0,0.7);
    color: #ffcc00;
    font-size: 14px;
    border: 1px solid #ffcc00;
    text-shadow: 1px 1px 0 #000;
}

.doom-overlay {
    position: absolute;
    inset: 0;
    background: rgba(0,0,0,0.65);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 10;
    cursor: default;
}

.doom-overlay-card {
    background: #111;
    border: 2px solid #ff0000;
    padding: 12px 14px;
    min-width: 260px;
    color: #ffcc00;
    box-shadow: 0 0 12px rgba(0,0,0,0.6);
    text-align: center;
}

.doom-overlay-title {
    font-size: 16px;
    margin-bottom: 8px;
    color: #ff4444;
    text-shadow: 1px 1px 0 #000;
}

.doom-overlay-body {
    font-size: 12px;
    margin-bottom: 10px;
    color: #ffcc00;
}

.doom-overlay-actions {
    display: flex;
    gap: 8px;
    justify-content: center;
    flex-wrap: wrap;
}
.skifree-icon::after {
    content: '';
    position: absolute;
    bottom: 4px;
    left: 50%;
    transform: translateX(-50%);
    width: 6px;
    height: 10px;
    background: #000080;
    border-radius: 2px 2px 0 0;
}

/* SkiFree Game Styles */
.skifree-content {
    display: flex;
    flex-direction: column;
    background: url('assets/mountain.png') center top / cover no-repeat;
    padding: 0;
    overflow: hidden;
}

.skifree-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 4px 8px;
    background: var(--win-bg);
    border-bottom: 2px inset var(--win-bg);
    font-size: 12px;
}

.skifree-score,
.skifree-speed {
    font-weight: bold;
}

.skifree-restart-btn {
    padding: 2px 8px;
    font-family: 'W95FA', Tahoma, sans-serif;
    font-size: 11px;
    background: var(--win-bg);
    border: 2px outset var(--win-bg);
    cursor: pointer;
}

.skifree-restart-btn:active {
    border: 2px inset var(--win-bg);
}

#skifree-canvas {
    display: block;
    background: transparent;
    image-rendering: pixelated;
}

.skifree-instructions {
    padding: 4px 8px;
    background: var(--win-bg);
    border-top: 2px outset var(--win-bg);
    font-size: 10px;
    text-align: center;
    color: #404040;
}

/* Desktop Icons Area (top left) */
.desktop-icons-area {
    position: absolute;
    top: 8px;
    left: 8px;
    display: flex;
    flex-direction: column;
    gap: 20px;
    z-index: 1;
}

.desktop-icon {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 80px;
    cursor: pointer;
    padding: 4px;
    position: relative;
}

.desktop-icon:hover:not(.selected) .desktop-icon-label {
    background: rgba(0, 0, 128, 0.2);
}

.desktop-icon.selected .desktop-icon-label {
    background: var(--win-selected);
    color: white;
}


.desktop-icon-image {
    width: 48px;
    height: 40px;
    margin-bottom: 4px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s ease;
}

.desktop-icon[data-move-mode="true"] .desktop-icon-image,
.minimized-program-manager[data-move-mode="true"] .minimized-icon-image {
    width: 32px;
    height: 28px;
    filter: grayscale(100%);
}

.desktop-icon[data-move-mode="true"] .desktop-icon-image *,
.minimized-program-manager[data-move-mode="true"] .minimized-icon-image * {
    filter: grayscale(100%);
}

.desktop-icon[data-move-mode="true"] .quill-icon-image,
.minimized-program-manager[data-move-mode="true"] .quill-icon-image {
    filter: grayscale(100%);
}

/* Hide cursor when in move mode */
body.move-mode-active,
body.move-mode-active * {
    cursor: none !important;
}

.desktop-icon-label {
    font-size: 12px;
    text-align: center;
    color: var(--win-text);
    word-break: break-word;
    line-height: 1.2;
    padding: 2px 4px;
}

/* Quill AI Icon Image */
.quill-icon-image {
    width: 56px;
    height: 48px;
    object-fit: contain;
    image-rendering: pixelated;
    image-rendering: -moz-crisp-edges;
    image-rendering: crisp-edges;
}

.quill-logo-img {
    width: 32px;
    height: 28px;
    object-fit: contain;
    image-rendering: pixelated;
    border: none;
    background: transparent;
}

.quill-logo-icon {
    width: 24px;
    height: 24px;
    position: relative;
    background: var(--win-white);
    border: 1px solid var(--win-border-dark);
    display: flex;
    align-items: center;
    justify-content: center;
}

.quill-logo-icon::before {
    content: '';
    position: absolute;
    width: 0;
    height: 0;
    border-left: 8px solid transparent;
    border-right: 8px solid transparent;
    border-bottom: 14px solid #8B4513;
    transform: rotate(-45deg);
    top: 4px;
    left: 6px;
}

.quill-logo-icon::after {
    content: '';
    position: absolute;
    width: 1px;
    height: 10px;
    background: #654321;
    transform: rotate(45deg);
    top: 6px;
    left: 11px;
    box-shadow: 1px 0 0 #8B4513;
}

/* Minimized Program Manager (in desktop icons area) */
.minimized-program-manager {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 80px;
    padding: 4px;
    cursor: pointer;
    position: relative;
}

.minimized-program-manager:hover:not(.selected) .minimized-icon-label,
.minimized-program-manager:hover:not(.selected) .group-icon-label {
    background: rgba(0, 0, 128, 0.2);
}

.minimized-program-manager.selected .minimized-icon-label,
.minimized-program-manager.selected .group-icon-label {
    background: var(--win-selected);
    color: white;
}


.minimized-icon-image {
    width: 48px;
    height: 40px;
    margin-bottom: 4px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.minimized-icon-label {
    font-size: 12px;
    text-align: center;
    color: var(--win-text);
    padding: 2px 4px;
    word-break: break-word;
    line-height: 1.2;
}

/* System Menu Dropdown */
.system-menu-dropdown {
    position: absolute;
    background: var(--win-bg);
    border: 2px solid;
    border-color: var(--win-border-light) var(--win-border-darker) var(--win-border-darker) var(--win-border-light);
    min-width: 160px;
    z-index: 10001;
    box-shadow: 2px 2px 0 rgba(0, 0, 0, 0.3);
}

.system-menu-item {
    padding: 4px 12px;
    cursor: pointer;
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 12px;
    letter-spacing: 0;
    word-spacing: 0;
    white-space: nowrap;
    font-kerning: none;
}

.system-menu-item:hover:not(.disabled) {
    background: var(--win-selected);
    color: white;
}

.system-menu-item.disabled {
    color: var(--win-border-dark);
    cursor: default;
}

.system-menu-item u {
    text-decoration: underline;
    letter-spacing: 0;
    margin: 0;
    padding: 0;
    display: inline;
    font-kerning: none;
    margin-right: -0.1em !important;
    margin-left: 0 !important;
    padding-right: 0 !important;
    padding-left: 0 !important;
    border: 0;
    outline: 0;
    float: none;
    position: relative;
    word-spacing: 0;
}

.system-menu-item {
    font-variant-ligatures: none;
    text-rendering: optimizeSpeed;
    font-feature-settings: normal;
    word-spacing: 0;
    white-space: nowrap;
}

.system-menu-separator {
    height: 1px;
    background: var(--win-border-dark);
    margin: 2px 4px;
    border-bottom: 1px solid var(--win-border-light);
}

.shortcut {
    margin-left: 24px;
    font-size: 11px;
}

/* CRT Effects */
.scanlines {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: repeating-linear-gradient(
        0deg,
        rgba(0, 0, 0, 0.1),
        rgba(0, 0, 0, 0.1) 1px,
        transparent 1px,
        transparent 2px
    );
    pointer-events: none;
    z-index: 9999;
}

.screen-flicker {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: transparent;
    animation: flicker 0.15s infinite;
    pointer-events: none;
    z-index: 10000;
}

@keyframes flicker {
    0% { opacity: 1; }
    50% { opacity: 0.98; }
    100% { opacity: 1; }
}

/* Accessory Applications */

/* Calculator */
.calculator-app {
    padding: 8px;
    background: var(--win-bg);
}
.calc-display {
    width: 100%;
    padding: 8px;
    font-size: 18px;
    text-align: right;
    background: #90EE90;
    border: 2px inset var(--win-bg);
    margin-bottom: 8px;
    font-family: 'Courier New', monospace;
}
.calc-buttons {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 4px;
}
.calc-btn {
    padding: 12px;
    font-size: 14px;
    background: var(--win-bg);
    border: 2px outset var(--win-bg);
    cursor: pointer;
}
.calc-btn:active { border: 2px inset var(--win-bg); }
.calc-op { background: #e0e0e0; }
.calc-equals { background: #4a90d9; color: white; }
.calc-clear { background: #d94a4a; color: white; }

/* Notepad */
.notepad-app {
    display: flex;
    flex-direction: column;
    height: 100%;
}
.notepad-menu,
.notepad-menu-bar {
    display: flex;
    gap: 16px;
    padding: 2px 8px;
    background: var(--win-bg);
    border-bottom: 1px solid var(--win-border-dark);
    font-size: 12px;
}
.notepad-textarea {
    flex: 1;
    resize: none;
    border: none;
    padding: 8px;
    font-family: 'Courier New', monospace;
    font-size: 12px;
    background: white;
}

/* Terminal */
.terminal-app {
    display: flex;
    flex-direction: column;
    height: 100%;
    background: #000;
    font-family: 'Courier New', monospace;
    font-size: 12px;
    color: #c0c0c0;
}
.terminal-output {
    flex: 1;
    padding: 8px;
    overflow-y: auto;
    white-space: pre-wrap;
    word-break: break-all;
}
.terminal-input-line {
    display: flex;
    padding: 0 8px 8px;
}
.terminal-prompt { color: #c0c0c0; }
.terminal-input {
    flex: 1;
    background: transparent;
    border: none;
    color: #c0c0c0;
    font-family: inherit;
    font-size: inherit;
    outline: none;
}

/* Calendar */
.calendar-app {
    padding: 8px;
    background: white;
}
.calendar-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 8px;
    padding: 4px;
    background: var(--win-titlebar);
    color: white;
}
.calendar-nav {
    background: none;
    border: none;
    color: white;
    cursor: pointer;
    padding: 4px 8px;
}
.calendar-title {
    font-weight: bold;
}
.calendar-weekdays {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    text-align: center;
    font-weight: bold;
    font-size: 11px;
    margin-bottom: 4px;
    color: var(--win-titlebar);
}
.calendar-days {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 2px;
    text-align: center;
    font-size: 12px;
}
.calendar-days span {
    padding: 4px;
    cursor: pointer;
}
.calendar-days span:hover { background: #e0e0e0; }
.calendar-days span.today {
    background: var(--win-titlebar);
    color: white;
}

/* Write */
.write-app {
    display: flex;
    flex-direction: column;
    height: 100%;
}
.write-toolbar {
    display: flex;
    gap: 4px;
    padding: 4px;
    background: var(--win-bg);
    border-bottom: 1px solid var(--win-border-dark);
}
.write-btn {
    padding: 4px 8px;
    background: var(--win-bg);
    border: 1px outset var(--win-bg);
    cursor: pointer;
    min-width: 24px;
}
.write-btn:active { border: 1px inset var(--win-bg); }
.write-sep { color: var(--win-border-dark); padding: 0 4px; }
.write-editor {
    flex: 1;
    padding: 8px;
    background: white;
    overflow-y: auto;
    font-family: 'Times New Roman', serif;
    font-size: 14px;
}

/* Paintbrush */
.paintbrush-app {
    display: flex;
    flex-direction: column;
    height: 100%;
}
.paint-toolbar {
    display: flex;
    gap: 8px;
    padding: 4px;
    background: var(--win-bg);
    align-items: center;
    flex-wrap: wrap;
}
.paint-tools {
    display: flex;
    gap: 2px;
}
.paint-tool {
    padding: 4px 8px;
    background: var(--win-bg);
    border: 1px outset var(--win-bg);
    cursor: pointer;
}
.paint-tool.active { border: 1px inset var(--win-bg); background: #d0d0d0; }
.paint-colors {
    display: flex;
    gap: 2px;
}
.paint-color {
    width: 16px;
    height: 16px;
    border: 1px solid #000;
    cursor: pointer;
}
.paint-color.active { border: 2px solid #000; }
.paint-size { width: 60px; }
.paint-canvas {
    flex: 1;
    background: white;
    cursor: crosshair;
}

/* Character Map */
.charmap-app {
    display: flex;
    flex-direction: column;
    height: 100%;
    padding: 8px;
    background: var(--win-bg);
}
.charmap-grid {
    flex: 1;
    display: grid;
    grid-template-columns: repeat(16, 1fr);
    gap: 1px;
    background: white;
    border: 2px inset var(--win-bg);
    overflow-y: auto;
    padding: 4px;
}
.charmap-cell {
    text-align: center;
    padding: 4px;
    cursor: pointer;
    font-size: 14px;
}
.charmap-cell:hover { background: var(--win-selected); color: white; }
.charmap-preview {
    display: flex;
    gap: 8px;
    padding: 8px 0 0;
    align-items: center;
}
.charmap-char {
    font-size: 32px;
    width: 40px;
    text-align: center;
}
.charmap-input {
    flex: 1;
    padding: 4px;
    border: 2px inset var(--win-bg);
}
.charmap-copy {
    padding: 4px 12px;
    background: var(--win-bg);
    border: 2px outset var(--win-bg);
    cursor: pointer;
}

/* Media Player */
.mediaplayer-app {
    display: flex;
    flex-direction: column;
    gap: 8px;
    padding: 8px;
    background: var(--win-bg);
}
.mp-display {
    background: #001800;
    color: #00ff00;
    padding: 8px;
    display: flex;
    justify-content: space-between;
    font-family: 'Courier New', monospace;
    font-size: 11px;
}
.mp-controls {
    display: flex;
    justify-content: center;
    gap: 4px;
}
.mp-btn {
    padding: 8px 16px;
    background: var(--win-bg);
    border: 2px outset var(--win-bg);
    cursor: pointer;
    font-size: 12px;
}
.mp-btn:active { border: 2px inset var(--win-bg); }
.mp-progress { width: 100%; }
.mp-volume {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 12px;
}
.mp-vol-slider { flex: 1; }

/* Sound Recorder */
.soundrec-app {
    display: flex;
    flex-direction: column;
    gap: 8px;
    padding: 8px;
    background: var(--win-bg);
}
.sr-display {
    background: #001800;
    padding: 8px;
    text-align: center;
}
.sr-waveform {
    background: #001800;
    width: 100%;
}
.sr-time {
    color: #00ff00;
    font-family: 'Courier New', monospace;
    font-size: 14px;
}
.sr-controls {
    display: flex;
    justify-content: center;
    gap: 4px;
}
.sr-btn {
    padding: 8px 16px;
    background: var(--win-bg);
    border: 2px outset var(--win-bg);
    cursor: pointer;
}
.sr-record { color: #ff0000; }
.sr-status {
    text-align: center;
    font-size: 11px;
}

/* Cardfile */
.cardfile-app {
    display: flex;
    flex-direction: column;
    height: 100%;
    background: var(--win-bg);
}
.cf-tabs {
    display: flex;
    gap: 2px;
    padding: 4px 4px 0;
}
.cf-tab {
    padding: 4px 12px;
    background: #d0d0d0;
    border: 1px solid var(--win-border-dark);
    border-bottom: none;
    cursor: pointer;
    font-size: 11px;
}
.cf-tab.active {
    background: white;
    border-bottom: 1px solid white;
    margin-bottom: -1px;
}
.cf-card {
    flex: 1;
    background: white;
    border: 1px solid var(--win-border-dark);
    display: flex;
    flex-direction: column;
    padding: 8px;
}
.cf-title {
    border: none;
    border-bottom: 1px solid var(--win-border-dark);
    padding: 4px;
    font-weight: bold;
    margin-bottom: 8px;
}
.cf-content {
    flex: 1;
    border: none;
    resize: none;
    font-family: 'Courier New', monospace;
    font-size: 12px;
}

/* Recorder */
.recorder-app {
    display: flex;
    flex-direction: column;
    gap: 12px;
    padding: 16px;
    background: var(--win-bg);
}
.rec-status {
    text-align: center;
    font-size: 12px;
    padding: 8px;
    background: white;
    border: 2px inset var(--win-bg);
}
.rec-controls {
    display: flex;
    justify-content: center;
    gap: 8px;
}
.rec-btn {
    padding: 8px 16px;
    background: var(--win-bg);
    border: 2px outset var(--win-bg);
    cursor: pointer;
    font-size: 11px;
}
.rec-btn:disabled { opacity: 0.5; cursor: default; }
.rec-list {
    border: 2px inset var(--win-bg);
    background: white;
    padding: 4px;
}
.rec-item {
    padding: 4px;
    font-size: 11px;
    cursor: pointer;
}
.rec-item:hover { background: var(--win-selected); color: white; }

/* Object Packager */
.packager-app {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 16px;
    padding: 24px;
    background: var(--win-bg);
    height: 100%;
}
.pkg-icon { font-size: 48px; }
.pkg-text {
    text-align: center;
    font-size: 12px;
    color: var(--win-text);
}
.pkg-buttons {
    display: flex;
    gap: 8px;
}
.pkg-btn {
    padding: 8px 16px;
    background: var(--win-bg);
    border: 2px outset var(--win-bg);
    cursor: pointer;
    font-size: 11px;
}

/* File Dialog */
.file-dialog {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 400px;
    background: var(--win-bg);
    border: 2px solid;
    border-color: var(--win-border-light) var(--win-border-darker) var(--win-border-darker) var(--win-border-light);
    box-shadow: 
        inset 1px 1px 0 var(--win-border-light),
        inset -1px -1px 0 var(--win-border-dark);
    z-index: 10000;
    display: flex;
    flex-direction: column;
}

.file-dialog-titlebar {
    background: var(--win-titlebar);
    color: white;
    padding: 2px 4px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 11px;
    font-weight: bold;
}

.file-dialog-close {
    background: transparent;
    border: none;
    color: white;
    cursor: pointer;
    font-size: 14px;
    padding: 0 4px;
    width: 18px;
    height: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.file-dialog-close:hover {
    background: rgba(255,255,255,0.2);
}

.file-dialog-content {
    padding: 8px;
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.file-dialog-path {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 11px;
}

.file-dialog-path label {
    white-space: nowrap;
}

.file-dialog-filename {
    flex: 1;
    padding: 4px;
    border: 2px inset var(--win-bg);
    font-size: 11px;
    background: white;
}

.file-dialog-files {
    display: flex;
    gap: 8px;
    height: 200px;
}

.file-dialog-drives {
    width: 60px;
    border: 2px inset var(--win-bg);
    background: white;
    padding: 4px;
}

.file-drive {
    padding: 2px 4px;
    cursor: pointer;
    font-size: 11px;
}

.file-drive:hover {
    background: var(--win-selected);
    color: white;
}

.file-dialog-list {
    flex: 1;
    border: 2px inset var(--win-bg);
    background: white;
    overflow-y: auto;
    padding: 2px;
    font-size: 11px;
}

.file-item {
    padding: 2px 4px;
    cursor: pointer;
    font-size: 11px;
}

.file-item:hover {
    background: var(--win-selected);
    color: white;
}

.file-dialog-buttons {
    display: flex;
    justify-content: flex-end;
    gap: 8px;
}

.file-dialog-btn {
    padding: 4px 16px;
    background: var(--win-bg);
    border: 2px outset var(--win-bg);
    cursor: pointer;
    font-size: 11px;
    min-width: 60px;
}

.file-dialog-btn:active {
    border: 2px inset var(--win-bg);
}

.file-dialog-ok {
    background: var(--win-titlebar);
    color: white;
}

/* Dropdown Menu */
.dropdown-menu {
    position: absolute;
    background: var(--win-bg);
    border: 2px solid;
    border-color: var(--win-border-light) var(--win-border-darker) var(--win-border-darker) var(--win-border-light);
    box-shadow: 2px 2px 4px rgba(0,0,0,0.3);
    z-index: 10001;
    min-width: 120px;
}

.menu-option {
    padding: 4px 20px 4px 8px;
    font-size: 11px;
    cursor: pointer;
    white-space: nowrap;
}

.menu-option:hover {
    background: var(--win-selected);
    color: white;
}

.menu-option.disabled {
    color: #808080;
    cursor: default;
}

.menu-option.disabled:hover {
    background: transparent;
    color: #808080;
}

/* Menu bars for applications */
.write-menu-bar,
.paint-menu-bar,
.notepad-menu-bar,
.cf-menu-bar,
.mp-menu-bar,
.sr-menu-bar,
.rec-menu-bar,
.pkg-menu-bar {
    display: flex;
    gap: 16px;
    padding: 2px 8px;
    background: var(--win-bg);
    border-bottom: 1px solid var(--win-border-dark);
    font-size: 12px;
}

/* Responsive scaling is handled via JavaScript transform */
/* The entire .room-background is scaled proportionally to fit any viewport */

/* ===== Photo Gallery Application ===== */

.gallery-icon {
    background: linear-gradient(135deg, #4a90d9 0%, #2d5aa0 100%);
    border: 1px solid #404040;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
}

.gallery-icon::before {
    content: '';
    width: 20px;
    height: 16px;
    background: #fff;
    border: 2px solid #000;
    position: relative;
}

.gallery-icon::after {
    content: '🏔️';
    position: absolute;
    font-size: 10px;
    top: 8px;
    left: 8px;
}

.gallery-menu-bar {
    display: flex;
    gap: 16px;
    padding: 2px 8px;
    background: var(--win-bg);
    border-bottom: 1px solid var(--win-border-dark);
    font-size: 12px;
}

.gallery-content {
    display: flex;
    height: 100%;
    padding: 0 !important;
    overflow: hidden !important;
}

.gallery-sidebar {
    width: 100px;
    background: var(--win-white);
    border-right: 2px inset var(--win-bg);
    padding: 4px;
    overflow-y: auto;
}

.gallery-folder {
    padding: 4px 6px;
    font-size: 11px;
    cursor: pointer;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.gallery-folder:hover {
    background: rgba(0, 0, 128, 0.1);
}

.gallery-folder.selected {
    background: var(--win-selected);
    color: white;
}

.gallery-main {
    flex: 1;
    display: flex;
    flex-direction: column;
    background: #000;
    min-width: 0;
}

.gallery-viewer {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 8px;
    background: #1a1a1a;
    overflow: hidden;
    min-height: 0;
}

.gallery-photo {
    max-width: 100%;
    max-height: 100%;
    object-fit: contain;
    /* Retro pixelated effect */
    image-rendering: pixelated;
    image-rendering: -moz-crisp-edges;
    image-rendering: crisp-edges;
    /* Slight color reduction for retro feel */
    filter: contrast(1.1) saturate(0.85) sepia(0.15);
    border: 3px solid #808080;
    box-shadow: 
        inset 0 0 20px rgba(0, 0, 0, 0.3),
        0 0 10px rgba(0, 0, 0, 0.5);
}

.gallery-thumbnails {
    display: flex;
    gap: 4px;
    padding: 6px;
    background: var(--win-bg);
    border-top: 2px solid var(--win-border-dark);
    overflow-x: auto;
    min-height: 60px;
}

.gallery-thumb {
    width: 50px;
    height: 50px;
    flex-shrink: 0;
    border: 2px solid var(--win-border-dark);
    cursor: pointer;
    overflow: hidden;
    background: #000;
}

.gallery-thumb img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    image-rendering: pixelated;
    filter: contrast(1.1) saturate(0.8);
}

.gallery-thumb:hover {
    border-color: var(--win-titlebar);
}

.gallery-thumb.selected {
    border: 2px solid var(--win-titlebar);
    box-shadow: 0 0 0 1px var(--win-titlebar);
}

.gallery-info {
    display: flex;
    justify-content: space-between;
    padding: 4px 8px;
    background: var(--win-bg);
    border-top: 1px solid var(--win-border-light);
    font-size: 11px;
    color: var(--win-text);
}
